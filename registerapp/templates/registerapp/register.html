{% extends 'base.html' %}
{% load static %}
{% block content %}
<meta name="csrf-token" content="{{ csrf_token }}">

<div style="display: flex; justify-content: center; margin-top :3rem;">

    <div style="height: 40rem; width: 40rem; background-color: #FFFFFF; border-radius: 1rem; margin: 1rem; border: 1px solid #1E6988;">
        <div style="display: flex; justify-content: center; margin : 2rem;">
            <h1>Drop here!</h1>
        </div>

        <div style="display: flex; justify-content: center;">
            <div id="drop-box" class="drop-box"
                 style=" margin: 5rem; display: flex; justify-content: center;
                 height: 20rem; width: 20rem; border: 3px dashed #196CA1; border-radius: 3rem;
                 align-items: center; justify-content: center; color: #196CA1; font-size: 50pt;">
                +
            </div>
        </div>

    </div>

    <div style="min-height: 40rem; width: 40rem; background-color: #FFFFFF; border-radius: 1rem; margin: 1rem; display: flex; flex-direction: column; justify-content: space-between; border: 1px solid #1E6988;">
        <div style="display: flex; justify-content: center; margin : 2rem;">
            <h1>Upload files</h1>
        </div>
        <div id="message-container" style="display: flex; flex-direction: column; justify-content: space-between; flex-grow: 1;">
            <div id="message" style="font-size: 16pt; margin: 1rem; padding: 20px;"></div>
            <button id="uploadBtn" class="btn btn-info col-6 mt-3"
                    style="margin-bottom:3rem; margin-left: auto; margin-right: auto; display:none; background-color: #1E6988;
                           font-size : 15pt; color: white; ">
                Save
            </button>
        </div>
    </div>

</div>

<!-- pair 경고 모달 -->
<div class="modal fade" id="fileModal" tabindex="-1" aria-labelledby="fileModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="fileModalLabel">False! Please upload a pair of files</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p id="missingPairs">warning message</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">확인</button>
      </div>
    </div>
  </div>
</div>

<!-- 파일 업로드 성공 모달 -->
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="successModalLabel">파일 등록 성공</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>파일 등록이 잘 되었습니다.</p>
        <ul id="uploadedFileList"></ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">확인</button>
      </div>
    </div>
  </div>
</div>

<!-- 중복 파일명 처리 모달 -->
<div class="modal fade" id="duplicateFileModal" tabindex="-1" aria-labelledby="duplicateFileModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="duplicateFileModalLabel">중복된 파일 알림</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        중복된 파일이 있습니다. 어떻게 하시겠습니까?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" data-dismiss="modal" id="skipDuplicates">Skip Duplicates</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" id="overwriteDuplicates">Overwrite</button>
      </div>
    </div>
  </div>
</div>

<script src="{% static 'js/dragndrop.js' %}"></script>

{% endblock %}